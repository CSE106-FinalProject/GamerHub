<!DOCTYPE html>

<title>Page Title</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="../static/videoUpload.css">
<!-- cloudinary upload widget -->

<body>
    <div class="parent-container">
        <h1 class="title">Upload your gaming video clips here!</h1>
        <div class="parent-upload">
            <button id="upload_widget" class="cloudinary-button">
                Upload
            </button>
        </div>

        <div class="fields">
            <form method="POST">
                <input class="text-field" type="hidden" id="txtField" name="videoURL">
                <input class="submit-field" type="submit" value="Submit">
            </form>
        </div>


    </div>

    <script src='https://upload-widget.cloudinary.com/global/all.js' type='text/javascript'></script>

    <script type="text/javascript">
        let myWidget = cloudinary.createUploadWidget({
            cloudName: 'de6unmlql',
            uploadPreset: 'gnvtkenr'
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                console.log('Done! Here is the image info: ', result.info.url);
                document.getElementById('txtField').value = result.info.url;
            }
        })
        document.getElementById("upload_widget").addEventListener("click", function () {
            myWidget.open();
        }, false);
    </script>


</body>

</html>